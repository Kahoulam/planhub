<mat-card *ngFor="let plan of dataSource">
    <mat-grid-list cols="10" rowHeight="30px" [gutterSize]="'20px'">
        <!--row 1-->
        <mat-grid-tile [colspan]="5" [rowspan]="1" class="left">
            <mat-card-title>
                <!-- <a href="#" style="text-decoration:none; color:cornflowerblue">{{plan.title}}</a> -->
                <span>{{plan.title}}</span>
            </mat-card-title>
        </mat-grid-tile>
        <mat-grid-tile [colspan]="2" [rowspan]="1" class="little">{{ this.storage.getWriter(plan).nick}}</mat-grid-tile>
        <mat-grid-tile [colspan]="2" [rowspan]="1" class="little">{{getForkFrom(plan)}}</mat-grid-tile>
        <mat-grid-tile [colspan]="1" [rowspan]="1">
            <button mat-icon-button disabled>
                <mat-icon>question_answer</mat-icon>
                {{plan.issue.length }}
            </button>
        </mat-grid-tile>

        <!--row 2-->
        <mat-grid-tile [colspan]=" getImg(plan).length==0?0:2 " [rowspan]="3" class="left">
            <img src="{{getImg(plan)}}" width="250">
        </mat-grid-tile>
        <mat-grid-tile [colspan]=" getImg(plan).length==0?10:8 " [rowspan]="getImg(plan).length==0?1:3" class="content left">
            <p *ngIf='plan.content'>
                {{plan.content.substring(0,100) }}
            </p>
        </mat-grid-tile>

        <!--row 3-->
        <mat-grid-tile [colspan]="10" [rowspan]="1" *ngIf='plan.tags.length!=0' class="left">
            <mat-chip-list aria-label="Fish selection">
                <mat-chip color="primary" *ngIf='plan.formats'>{{ plan.formats}} </mat-chip>
                <mat-chip *ngFor="let tag of plan.tags">{{tag}}</mat-chip>
            </mat-chip-list>
        </mat-grid-tile>

        <!--row 4-->
        <mat-grid-tile [colspan]="6" [rowspan]="1" class="left">
            <mat-chip-list>
                <td style="margin-right:5px;">
                    <mat-icon>star_border</mat-icon>
                </td>
                <td style="margin-right:10px;" *ngIf='plan.starred'>{{ plan.starred.length }} </td>
                <td style="margin-right:5px;">
                    <mat-icon>visibility</mat-icon>
                </td>
                <td style="margin-right:10px;">1234</td>
                <td style="margin-right:10px;" *ngIf='plan.license'> {{ plan.license }}</td>
               {{ "更新時間: "+(plan.lastchangeAt | date:'yyyy/MM/dd') }}
            </mat-chip-list>
        </mat-grid-tile>
         <mat-grid-tile [colspan]="4" [rowspan]="1" class="action">
            <mat-card-actions>
                <button mat-icon-button disabled>
                    <mat-icon>link</mat-icon>
                </button>
    
                <button mat-icon-button disabled>
                    <mat-icon>group_add</mat-icon>
                </button>
    
                <button mat-icon-button disabled>
                    <mat-icon>cloud_download</mat-icon>
                </button>
    
                <button mat-icon-button (click)="setStar(plan)">
                    <mat-icon>{{ isStarred(plan) ? "star" : "star_border" }}</mat-icon>
                </button>
    
                <button mat-icon-button *ngIf="!plan.isExternal"
                    [routerLink]="[routerLink.ViewingPlan, 'user001', plan.title]">
                    <mat-icon>visibility</mat-icon>
                </button>
    
                <button mat-icon-button *ngIf="!plan.isExternal" [routerLink]="[routerLink.EditingPlan, plan.id]">
                    <mat-icon>edit</mat-icon>
                </button>
    
                <button mat-icon-button *ngIf="!plan.isExternal" (click)="deleteMyPlan(plan)">
                    <mat-icon>delete</mat-icon>
                </button>
            </mat-card-actions>
        </mat-grid-tile>
    </mat-grid-list>
</mat-card>