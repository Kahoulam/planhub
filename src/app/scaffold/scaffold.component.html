<!-- top -->
<mat-toolbar color="primary">
  <h1>Lesson Plan Hub</h1>
  <div style="margin-left: 108px">
    <mat-form-field [matMenuTriggerFor]="searchMenu">
      <mat-label>Search</mat-label>
	  <input type="text" matInput (keyup.enter)="onSearch()" [(ngModel)]="keyword">
      <!-- <button [matMenuTriggerFor]="searchMenu" mat-button matSuffix mat-icon-button aria-label="Clear">
                <mat-icon>keyboard_arrow_down</mat-icon>
            </button> -->
    </mat-form-field>

  </div>
  <div class="NotifyBar">
    <button mat-button [matMenuTriggerFor]="notifyList">
      <mat-icon>notifications</mat-icon>
    </button>

  </div>
</mat-toolbar>

<!-- left -->
<mat-sidenav-container>
  <mat-sidenav opened mode="side">
    <button mat-raised-button color="accent" (click)="newPlan()">
      <mat-icon>add</mat-icon> New
    </button>

    <mat-nav-list (click)="resetKeyword()">
      <a mat-list-item [routerLink]=" routerLink.MyPlans"> My plans </a>
      <a mat-list-item [routerLink]="routerLink.Starred"> Starred </a>
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content>
    <router-outlet></router-outlet>
  </mat-sidenav-content>
</mat-sidenav-container>

<!-- sub menu: Search Menu  -->
<!-- https://stackblitz.com/edit/angular-search-box -->
<mat-menu #searchMenu="matMenu">
  <form>
    <table (click)="$event.stopPropagation()">

      <!-- row1 -->
      <tr>
        <td> 作者 </td>
        <td>
          <mat-form-field>
            <mat-label>Mengting</mat-label>
            <input matInput type="text">
          </mat-form-field>
        </td>
        <!-- <td> 輸出: writer:Mengting</td> -->
      </tr>

      <!-- row2 -->
      <tr>
        <td>日期</td>
        <td>
          <mat-form-field>
            <input matInput type="date">
          </mat-form-field>
        </td>
        <!-- <td> 輸出: date:date</td> -->
      </tr>

      <!-- row3 -->
      <tr>--------------------------</tr>

      <!-- row4 -->
      <tr *ngFor="let tagKey of getHotTags()">
        <td> {{tagKey}}</td>
        <td>
          <mat-form-field>
            <mat-label>1</mat-label>
            <input matInput type="text" [(ngModel)]="keyWordTags[tagKey]" name='{{tagKey}}'>
          </mat-form-field>
        </td>
		<td> 輸出: {{tagKey}}:1</td>
	  </tr>

	  <!-- <tr>
        <td> 年級</td>
        <td>
          <mat-form-field>
            <mat-label>1</mat-label>
            <input matInput type="text" [(ngModel)]="keyWordTags['年級']" name='年級'>
          </mat-form-field>
        </td>
		<td> 輸出: 年級:1</td>
	  </tr> -->
	  
	  <tr>
		<button mat-raised-button color="accent" (click)="onSearch()">search</button>
	  </tr>

    </table>
  </form>
</mat-menu>

<!-- sub menu: Notify List -->
<mat-menu #notifyList="matMenu" style="width: 200px;">
  <!-- <mat-expansion-panel hideToggle *ngFor='let msg of notifies' (click)="$event.stopPropagation()">
        <mat-expansion-panel-header>
            <mat-panel-title>
                {{msg.title}}
            </mat-panel-title>
            <mat-panel-description>
                {{msg.lastchangeAt | date:'yyyy/MM/dd'}}
            </mat-panel-description>
        </mat-expansion-panel-header>
        <p><a href="{{ msg.link}}">{{ msg.msg}}</a></p>
    </mat-expansion-panel> -->

  <!-- DEMO -->
  <mat-expansion-panel hideToggle (click)="$event.stopPropagation()">
    <mat-expansion-panel-header>

      <mat-panel-title>
        <mat-icon>account_circle</mat-icon> 王曉明 發布了「搜尋演算法教案」的 教案。 MIT license
      </mat-panel-title>
      <mat-panel-description>
        3小時前
      </mat-panel-description>
      <button mat-icon-button disabled>
        <mat-icon>delete</mat-icon>
      </button>
      <button mat-icon-button disabled>
        <mat-icon>more_vert</mat-icon>
      </button>

    </mat-expansion-panel-header>
    <mat-panel-description>
      fork from: 王曉明/演算法概論...<a href="/user001/搜尋演算法教案">查看更多</a>
    </mat-panel-description>
    <mat-panel-description>
      # 搜尋演算法教案範例 | 單元名稱 | 搜尋演算法 | 教學設計者 |Mengting | | -------- | ---...
    </mat-panel-description>

  </mat-expansion-panel>

  <mat-expansion-panel hideToggle (click)="$event.stopPropagation()">
    <mat-expansion-panel-header>

      <mat-panel-title>
        <mat-icon>account_circle</mat-icon> Non Plans Man 發布了「只有我的星星」的 教案。 通用授權
      </mat-panel-title>
      <mat-panel-description>
        3小時前
      </mat-panel-description>
      <button mat-icon-button disabled>
        <mat-icon>delete</mat-icon>
      </button>
      <button mat-icon-button disabled>
        <mat-icon>more_vert</mat-icon>
      </button>

    </mat-expansion-panel-header>
    <mat-panel-description>
      fork from: 王曉明/星星演算法...<a href="/user001/只有我的星星">查看更多</a>
    </mat-panel-description>
    <mat-panel-description>
      搜尋法。 點出前述所提及的撲克牌尋找方的撲克牌尋找方的撲克牌尋找方的撲克牌尋找方的撲克牌尋找方的撲克牌尋找方...
    </mat-panel-description>

  </mat-expansion-panel>

  <mat-expansion-panel hideToggle (click)="$event.stopPropagation()">
    <mat-expansion-panel-header>

      <mat-panel-title>
        <mat-icon>account_circle</mat-icon> Mengting 發布了「詩與圖的對話」的 教案。 通用授權
      </mat-panel-title>
      <mat-panel-description>
        3小時前
      </mat-panel-description>
      <button mat-icon-button disabled>
        <mat-icon>delete</mat-icon>
      </button>
      <button mat-icon-button disabled>
        <mat-icon>more_vert</mat-icon>
      </button>

    </mat-expansion-panel-header>
    <mat-panel-description>
      <a href="/user001/詩與圖的對話">查看更多</a>
    </mat-panel-description>
    <mat-panel-description>
      搜尋法。 點出前述所提及的撲克牌尋找方的撲克牌尋找方的撲克牌尋找方的撲克牌尋找方的撲克牌尋找方的撲克牌尋找方...
    </mat-panel-description>

  </mat-expansion-panel>

</mat-menu>